# 함수와 일급 객체

## 1. 일급 객체

일급 객체는 아래의 조건을 만족

- 무명의 리터럴로 생성 가능 (런타임에 생성 가능)
- 변수나 자료구조에 저장할 수 있음
- 함수의 매개변수에 전달할 수 있음
- 함수의 반환값으로 사용할 수 있음
  **=> JS의 함수는 일급 객체**

</br>

- 함수가 일급 객체라는 것 = 일반 객체처럼 사용 가능
- 함수와 일반 객체의 차이
  - 함수만 호출 가능
  - 일반 객체에 없는 고유 프로퍼티 있음

</br>

## 2. 함수 객체의 프로퍼티

- `console.dir`로 함수 객체의 내부를 보면
  - `arguments`, `caller`, `length`, `prototype`, `__proto__` 등이 보임
  - `Object.getOwnPropertyDescriptors` 메소드로 함수 프로퍼티의 프로퍼티 어트리뷰트 확인해보면, `__proto__`는 포함되지 않은 것을 알 수 있음
  - `arguments`, `caller`, `length`, `prototype`만 포함
- `__proto__`의 경우, 함수 객체 고유의 프로퍼티가 아니고 Object.prototype 객체의 접근자 프로퍼티

### arguments 프로퍼티

- arguments 객체
  - 함수 호출 시 전달된 인수들의 정보를 담고 있음
  - 순회 가능(iterable)한 유사 배열 객체
    - but, 배열은 아니므로 배열 메서드 사용하면 에러 발생
    - 배열 메서드를 사용하기 위해서는 `apply/call/bind`로 간접 호출 해야함
  - 함수 내부에서 지역 변수로 사용됨 (외부에서 참조 불가)
- 선언된 매개변수 > 인수 : 남은 매개변수에 undefined 할당
- 선언된 매개변수 < 인수 : 초과된 인수는 무시.. 하지만 arguments 객체의 프로퍼티로 보관은 함
- 매개 변수 개수를 확정할 수 없는 가변 인자 함수 구현 시 유용

### caller 프로퍼티

- ECMAScript에 포함되지 않은 비표준 프로퍼티라서 지나쳐도 좋음
  (앞으로도 포함 예정 없다고 함)
- 함수 자신을 호출한 함수를 가리킴

### length 프로퍼티

- 함수 정의 시 선언한 매개변수 개수를 나타냄
- arguments객체의 length와 다름..!
  - length 프로퍼티 = 매개변수 개수
  - arguments객체의 length = 인자 개수

### name 프로퍼티

- 함수 이름을 나타냄
  - 기명 함수의 경우 : 함수 이름
  - 익명 함수의 경우
    - ES5 : 빈 문자열
    - ES6 : 함수 객체를 가리키는 변수 이름

### `__proto__` 접근자 프로퍼티

- 모든 객체는 [[Prototype]]이라는 내부 슬롯을 가짐
- `__proto__` 프로퍼티는 내부슬롯 [[Prototype]]이 가리키는 프로토타입 객체에 접근하기 위해 사용하는 접근자 프로퍼티
  ([[Prototype]]에 직접 접근이 불가하므로 간접적으로 접근하게 해주는 접근자 프로퍼티)

### prototype 프로퍼티

- 함수가 생성자 함수로 호출 될 때, 생성자 함수가 생성할 인스턴스의 프로토타입 객체를 가리킴
  - 생성자 함수로 호출할 수 있는 함수 객체인 constructor만이 소유하는 프로퍼티
  - 일반 객체와 non-constructor에는 prototype 프로퍼티 없음
