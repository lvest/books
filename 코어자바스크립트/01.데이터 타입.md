# 데이터 타입

## 1. 데이터 타입의 종류

- 기본형 : 값이 담긴 주솟값을 바로 복제
- 참조형 : 값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제

</br>

---

## 2. 데이터 타입에 관한 배경지식

### 2-1. 메모리와 데이터

- 비트
  - 0 또는 1만 표현할 수 있는 하나의 메모리 조각
  - 고유한 식별자를 통해 위치 확인 가능
- 바이트
  - 비트를 묶은 것. (1바이트 = 8비트)
  - 비트에 비해 표현할 수 있는 값이 늘어남
  - 비트의 식별자로 위치 파악 가능

</br>

**_모든 데이터는 바이트 단위의 식별자 `메모리 주솟값`을 통해 서로 구분하고 연결 가능_**

</br>

### 2-2. 식별자와 변수

- 변수 : 변경 가능한 데이터가 담길 수 있는 공간
- 식별자 : 변수명

</br>

---

## 3. 변수 선언과 데이터 할당

### 3-1. 변수 선언

메모리 공간을 확보하고, 이름을 설정하는 과정

- `var a;`를 입력한다면,
  - 메모리 공간이 하나 확보 됨
  - 공간의 이름을 `a`로 함

</br>

### 3-2. 데이터 할당

데이터가 저장된 메모리 공간의 주소를, 변수 영역에 저장하는 과정

- `var a = 'abc';`를 입력한다면,
  - `변수 영역`에서 메모리 공간을 하나 확보하여 이름을 `a`로 함 (선언)
  - `데이터 영역`에 문자열 `'abc'`를 저장
  - `변수 영역`에서 `a`를 검색하여, 문자열 `'abc'`가 담긴 주소를 대입
- 위의 a에 `'abcdef'`를 저장하려 한다면,
  - `'abcdef'`를 새로운 공간에 저장하여 그 주소값을 연결(O)
  - `'abc'`를 `'abcdef'`로 바꾸는 것(X)

</br>

바로 데이터를 저장하지 않고 `변수 영역`과 `데이터 영역`으로 나누는 이유

- 데이터 변환이 자유로움
  - 만약 `변수 영역`에 바로 데이터를 저장한다면, 데이터가 변경되었을 때, 그에 맞게 `변수 영역`의 크기를 조절해야하는 작업이 필요할텐데, 경우에 따라 연산의 크기가 많이 늘어남
- 메모리를 효율적으로 관리할 수 있음
  - 동일한 데이터를 가지는 변수들에 일일이 데이터를 할당할 필요 없이, `데이터 영역`에 한번 저장하고, 주소를 저장하면 되므로 효율적임

</br>

---

## 4. 기본형 데이터와 참조형 데이터

### 4-1. 불변값

- 변수 vs 상수 : `변수 영역`의 변경 가능성
- 불변성 여부 : `데이터 영역`의 변경 가능성
  ```js
  let a = 5;
  a = 7;
  ```
  - 이 경우, `데이터 영역`의 5 자체를 7로 바꾸는 것이 아님 => 불변값
  - `데이터 영역`에 7을 "새로 만들어" `변수 영역`에 주소를 연결

### 4-2. 가변값

**`참조형 데이터` 할당 과정**

```js
var obj1 = {
  a: 1,
  b: 'bbb',
};
```

- obj1의 `변수 영역`와 "연결된 값"은 (프로퍼티 그룹을 저장하기 위한) `변수 영역`의 주소값이므로 => 변경 가능
- 물론, 데이터 영역에 저장된 값들은 불변 값들임

</br>

### 4-3. 변수 복사 비교

**기본형 데이터 복사한 경우**

```js
var a = 10;
var b = a;
b = 15;

console.log(a); // 10
console.log(b); // 15
```

- a와 연결된 `데이터 영역` 주소값이 b와 연결된 `데이터 영역` 주소값과 다름

</br>

**참조형 데이터 복사한 경우**

```js
var obj1 = { c: 10, d: 'ddd' };
var obj2 = obj1;
obj2.c = 20;

console.log(obj1); // { c: 20, d: "ddd" }
console.log(obj2); // { c: 20, d: "ddd" }
```

- obj1와 연결된 `데이터 영역` 주소값이 b와 연결된 `데이터 영역` 주소값과 같음

* 변수에 연결된 값이

</br>

---

## 5. 불변 객체

### 5-1. 불변 객체를 만드는 간단한 방법

### 5-2. 얕은 복사와 깊은 복사

- 얕은 복사
  - 바로 아래 단계의 값만 복사하는 것
  - 참조형 데이터가 저장된 프로퍼티를 복사할 때, "주소값"을 복사함
- 깊은 복사
  - 모든 값들을 다 복사하는 것
  - 참조형 값을 만날 때마다 그 내부 전체 다 재귀적으로 복사
  - 간단하게 구현하는 방식으로는 `JSON.stringify -> JSON.parse`

</br>

---

## 6. undefined와 null

- undefined
  - 값이 있을 만한 상황에서 값이 없을 때 JS엔진이 자동으로 부여하거나 사용자가 직접 지정
  - 하지만, 사용자가 직접 지정하는 것은 `null`이 있기 때문에 피하는 것이 좋음
- null
  - 개발자가 "값이 없음"을 표현하기 위한 목적으로 만들어진 데이터
  - `typeof null`은 object(JS 자체 버그)

</br>

---

## 7. 정리

- 기본형 데이터 : 변수가 (`데이터 영역`에 있는) 값과 연결되어있다
- 참조형 데이터 : 변수가 (`데이터 영역`에 있는) `변수 영역의 주소값`과 연결되어있다
- 참조형 데이터를 불변값으로 사용하려면 `깊은 복사` 이용
- `undefined` : 변수에 값이 없음
- `null` : 개발자가 의도적으로 "없음"을 표현
